
@{
    ViewBag.Title = "chat";
    ViewBag.pTitle = "Apps";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="row chat-wrapper g-0">
    <div class="col-xxl-3 col-xl-4 border-end">
        <div class="app-chat-sidebar active" id="app-chat-sidebar">
            <div class="p-6">
                <div class="mb-4 pb-6 border-bottom">
                    <div class="d-flex align-items-center justify-content-between position-relative">
                        <h4 class="mb-0">Chat Box</h4>
                        <div class="d-xl-none me-n10" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="bottom" aria-label="Close Button" data-bs-original-title="Close Button" aria-describedby="tooltip430017">
                            <a href="javascript:void(0)" class="bg-light text-success p-2 rounded-pill" id="close-chat-sidebar" aria-label="Close chat sidebar">
                                <i class="ri-arrow-left-double-fill fs-5"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="text-center my-4">
                    <div class="form-icon right d-none d-md-block" data-bs-toggle="modal" data-bs-target="#searchChat">
                        <input type="text" class="form-control form-control-icon bg-transparent w-100" id="SearchChat" placeholder="Search" required>
                        <div class="search-btn">
                            <div><i class="ri-search-line text-muted fs-16"></i></div>
                        </div>
                    </div>
                </div>
                <div class="d-flex align-items-center justify-content-between pb-3 border-bottom">
                    <p class="mb-0">Last Chats</p>
                    <div class="d-flex align-items-center">
                        <a href="javascript:void(0)" class="btn btn-light-success btn-sm" aria-label="Add">
                            <i class="ri-add-line"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <div class="chat-room-list mx-n5" data-simplebar>
                        <ul id="chatList" class="list-unstyled mb-0">
                            <li id="chat1" class="d-flex align-items-center gap-3 px-4 py-3 my-2">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-1.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">10:20am</span>
                                        Gaston Lapierre
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">How are you today?</span>
                                        <i class="bi bi-check-all text-success"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat2" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-12.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">Now</span>
                                        Sophia Turner
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="text-success">Typing...</span>
                                        @*</i>*@
                                        <span class="badge bg-success-subtle text-success">3</span>
                                    </p>
                                </div>
                            </li>
                            <li class="d-flex align-items-center gap-3 px-4 py-3 mb-2 active">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-2.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">12:45pm</span>
                                        John Doe
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Hey, are you free?</span>
                                        <i class="bi bi-check-all text-muted"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat3" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-3.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">9:15am</span>
                                        Oliver Smith
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Meeting at 2 PM?</span>
                                        <i class="bi bi-check-all text-success"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat4" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-4.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">8:30am</span>
                                        Emily Johnson
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">See you later!</span>
                                        <i class="bi bi-check-all text-muted"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat5" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-5.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">7:50am</span>
                                        William Brown
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Call me when you're free.</span>
                                        <i class="bi bi-check-all text-success"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat6" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-6.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">6:20am</span>
                                        Ava Martinez
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Good morning!</span>
                                        <i class="bi bi-check text-muted"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat7" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-7.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">Yesterday</span>
                                        Ethan Wilson
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Let's catch up soon!</span>
                                        <i class="bi bi-check-all text-success"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat8" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-8.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">Yesterday</span>
                                        Mia Davis
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Did you see my message?</span>
                                        <i class="bi bi-check text-muted"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat9" class="d-flex align-items-center gap-3 px-4 py-3 mb-2">
                                <div class="avatar-wrapper flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-9.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">Yesterday</span>
                                        Lucas Anderson
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Thanks for your help!</span>
                                        <i class="bi bi-check-all text-success"></i>
                                    </p>
                                </div>
                            </li>
                            <li id="chat10" class="d-flex align-items-center gap-3 px-5 py-3">
                                <div class="avatar-wrapper active flex-shrink-0 position-relative">
                                    <img src="~/assets/images/avatar/avatar-10.jpg" class="avatar-lg rounded-circle" height="36" alt="avatar">
                                </div>
                                <div class="flex-grow-1 overflow-hidden">
                                    <h6 class="my-0">
                                        <span class="float-end fs-12 fw-normal">Yesterday</span>
                                        Amelia White
                                    </h6>
                                    <p class=" mt-1 mb-0 fs-13 text-muted d-flex align-items-end justify-content-between">
                                        <span class="w-75">Let's plan for the weekend!</span>
                                        <i class="bi bi-check-all text-muted"></i>
                                    </p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-9 col-xl-8">
        <div class="overflow-hidden">
            <div class="p-5 border-bottom">
                <div class="row align-items-center">
                    <div class="col-sm-4 col-8">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0 d-block d-xl-none me-4">
                                <a href="#!" class="btn btn-light icon-btn fs-5" id="open-chat-sidebar" aria-label="Open chat sidebar">
                                    <i class="ri-menu-2-fill"></i>
                                </a>
                            </div>
                            <div class="d-flex align-items-center gap-2 overflow-hidden">
                                <a href="#!" id="selectedUserProfile">
                                    <div id="selectedUserAvatarWrapper" class="avatar-wrapper active flex-shrink-0">
                                        <img id="selectedUserAvatar" src="~/assets/images/avatar/avatar-12.jpg" class="h-30px w-30px rounded-circle" alt="avatar image">
                                        <span class="user-status"></span>
                                    </div>
                                    <div>
                                        <div class="offcanvas offcanvas-end position-absolute" data-simplebar tabindex="-1" id="userProfile" aria-labelledby="userProfileLabel">
                                            <div class="d-flex justify-content-between align-items-center pt-4 px-4">
                                                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                                                <div class="dropdown">
                                                    <a href="javascript:void(0)" data-bs-toggle="dropdown" aria-expanded="false" aria-label="More options">
                                                        <i class="bi bi-three-dots-vertical"></i>
                                                    </a>
                                                    <div class="dropdown-menu dropdown-menu-end">
                                                        <a class="dropdown-item" href="javascript:void(0)">Mute Chat</a>
                                                        <a class="dropdown-item" href="javascript:void(0)">Clear Chat</a>
                                                        <a class="dropdown-item" href="javascript:void(0)">Report</a>
                                                        <a class="dropdown-item" href="javascript:void(0)">Block</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="d-flex justify-content-center position-relative">
                                                <div class="position-relative">
                                                    <img src="~/assets/images/avatar/avatar-12.jpg" alt="Avatar Image" class="h-100px w-100px img-thumbnail rounded-pill">
                                                    <div class="position-absolute bottom-0 end-0">
                                                        <i class="bi bi-patch-check-fill fs-16 ms-n5 mt-n5 text-success"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="text-center my-4">
                                                <h4 class="mb-1">Sophia Turner</h4>
                                                <p class="mb-4 text-muted">+(895) 9865 4567</p>
                                                <div class="d-flex gap-2 justify-content-center">
                                                    <button type="button" class="btn btn-sm bg-light" data-bs-toggle="tooltip" data-bs-placement="top" aria-label="Message" data-bs-original-title="Message" aria-describedby="tooltip324973">
                                                        <i class="ri-question-answer-line"></i>
                                                    </button>
                                                    <button type="button" class="btn btn-sm bg-light" data-bs-toggle="tooltip" data-bs-placement="top" aria-label="Favourite" data-bs-original-title="Favourite">
                                                        <i class="ri-star-line"></i>
                                                    </button>
                                                    <button type="button" class="btn btn-sm bg-light" data-bs-toggle="tooltip" data-bs-placement="top" aria-label="Phone" data-bs-original-title="Phone">
                                                        <i class="ri-phone-line"></i>
                                                    </button>
                                                    <div class="dropdown">
                                                        <button class="btn btn-sm bg-light" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                            <i class="ri-more-fill"></i>
                                                        </button>
                                                        <ul class="dropdown-menu">
                                                            <li>
                                                                <a class="dropdown-item" href="javascript:void(0);">
                                                                    <i class="ri-inbox-archive-line align-bottom text-muted me-2"></i>Archive
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="dropdown-item" href="javascript:void(0);">
                                                                    <i class="ri-mic-off-line align-bottom text-muted me-2"></i>Muted
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="dropdown-item" href="javascript:void(0);">
                                                                    <i class="ri-delete-bin-5-line align-bottom text-muted me-2"></i>Delete
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="border-top p-4">
                                                <button type="button" class="btn d-block p-0 mb-3">
                                                    <i class="ri-edit-2-line me-3"></i>Nickname
                                                </button>
                                                <button type="button" class="btn d-block p-0 mb-3">
                                                    <i class="ri-palette-line me-3"></i>Change Color
                                                </button>
                                                <button type="button" class="btn d-block p-0 mb-5">
                                                    <i class="ri-user-add-line me-3"></i>Create Group Chat
                                                </button>
                                                <div>
                                                    <h6 class="mb-3"><i class="ri-film-line me-2"></i> Shared Media</h6>
                                                    <div class="row g-2">
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-1.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-2.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-3.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-4.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-5.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-6.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-7.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-8.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-9.jpg" alt="chat-img" />
                                                        </div>
                                                        <div class="col-auto">
                                                            <img class="rounded-2 avatar-lg" src="~/assets/images/small/img-10.jpg" alt="chat-img" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <h6 class="border-bottom pb-3 px-4 mb-0"><i class="ri-folder-5-line me-2"></i> Attached Files</h6>
                                                <div class="border-bottom d-flex align-items-center justify-content-between px-4">
                                                    <a class="d-flex align-items-center py-3" href="#!">
                                                        <div class="d-flex justify-content-center align-items-center avatar-md border rounded-1 me-2">
                                                            <img src="~/assets/images/pdf-icon.png" alt="PDF Icon" class="img-fluid p-1">
                                                        </div>
                                                        <div>
                                                            <h6 class="mb-1">Menilo.zip</h6>
                                                            <div class="d-flex align-items-center lh-1">
                                                                <p class="fs-10 mb-0 text-muted me-2">89.49 MB</p>
                                                                <p class="fs-10 mb-0 text-muted">Jun 9, 2025</p>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="border-bottom d-flex align-items-center justify-content-between px-4">
                                                    <a class="d-flex align-items-center py-3" href="#!">
                                                        <div class="d-flex justify-content-center align-items-center avatar-md border rounded-1 me-2">
                                                            <img src="~/assets/images/pdf-icon.png" alt="PDF Icon" class="img-fluid p-1">
                                                        </div>
                                                        <div>
                                                            <h6 class="mb-1">Admin.zip</h6>
                                                            <div class="d-flex align-items-center lh-1">
                                                                <p class="fs-10 mb-0 text-muted me-2">68.13 MB</p>
                                                                <p class="fs-10 mb-0 text-muted">April 31, 2025</p>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="border-bottom d-flex align-items-center justify-content-between px-4">
                                                    <a class="d-flex align-items-center py-3" href="#!">
                                                        <div class="d-flex justify-content-center align-items-center avatar-md border rounded-1 me-2">
                                                            <img src="~/assets/images/pdf-icon.png" alt="PDF Icon" class="img-fluid p-1">
                                                        </div>
                                                        <div>
                                                            <h6 class="mb-1">images.zip</h6>
                                                            <div class="d-flex align-items-center lh-1">
                                                                <p class="fs-10 mb-0 text-muted me-2">10.64 MB</p>
                                                                <p class="fs-10 mb-0 text-muted">May 15, 2025</p>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="border-bottom d-flex align-items-center justify-content-between px-4">
                                                    <a class="d-flex align-items-center py-3" href="#!">
                                                        <div class="d-flex justify-content-center align-items-center avatar-md border rounded-1 me-2">
                                                            <img src="~/assets/images/pdf-icon.png" alt="PDF Icon" class="img-fluid p-1">
                                                        </div>
                                                        <div>
                                                            <h6 class="mb-1">Logo.zip</h6>
                                                            <div class="d-flex align-items-center lh-1">
                                                                <p class="fs-10 mb-0 text-muted me-2">46.10 MB</p>
                                                                <p class="fs-10 mb-0 text-muted">Feb 29, 2025</p>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <a class="btn btn-link px-4" href="#!">
                                                    See 3 more
                                                    <i class="ri-arrow-down-s-line ms-1"></i>
                                                </a>
                                            </div>
                                        </div>
                                        <h5 id="selectedUserName" class="text-truncate mb-0 fs-14">
                                            <a id="selectedUserLink" class="text-reset" data-bs-toggle="offcanvas" data-bs-target="#userProfile" href="#userProfileCanvasExample" aria-controls="userProfile">Sophia Turner</a>
                                        </h5>
                                        <p id="selectedUserStatus" class="text-truncate text-muted fs-10 mb-0 userStatus">Online</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-8 col-4">
                        <div class="d-flex gap-2 justify-content-end">
                            <button type="button" class="btn btn-light btn-sm"><i class="bi bi-telephone-inbound"></i></button>
                            <button type="button" class="btn btn-light btn-sm"><i class="bi bi-camera-video"></i></button>
                            <div class="dropdown">
                                <a href="javascript:void(0)" class="btn btn-light btn-sm" data-bs-toggle="dropdown" aria-expanded="true" aria-label="More options">
                                    <i class="bi bi-three-dots-vertical"></i>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item" href="javascript:void(0)">View Contact</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Mute Chat</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Block</a>
                                    <a class="dropdown-item" href="javascript:void(0)" id="clearChat">Clear Chat</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Report</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chat-conversation p-5" id="chat-conversation" data-simplebar>
                <ul id="chat-list" class="list-unstyled chat-conversation-list"></ul>
            </div>
            <div class="border-top p-5">
                <form id="chatinput-form" enctype="multipart/form-data">
                    <div class="row g-0 align-items-center">
                        <div class="col">
                            <input type="text" class="form-control" id="chat-input" placeholder="Type your message..." autocomplete="off">
                        </div>
                        <div class="col-auto">
                            <div class="chat-input-links ms-2">
                                <div class="d-flex gap-4 align-items-center">
                                    <a href="#!" class="link text-body fs-4" data-bs-toggle="tooltip" data-bs-html="true" aria-label="Attach a Link" data-bs-original-title="Attach a Link">
                                        <i class="ri-link-m"></i>
                                    </a>
                                    <div class="file-upload">
                                        <a href="#!" class="link text-body fs-4" data-bs-toggle="tooltip" data-bs-html="true" title="Add a File">
                                            <input class="file-upload-item" type="file">
                                            <i class="ri-file-add-line"></i>
                                        </a>
                                    </div>
                                    <a href="#!" class="link text-body fs-4" data-bs-toggle="tooltip" data-bs-html="true" title="Send an Emoji">
                                        <i class="ri-emoji-sticker-line"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="ms-2">
                                <div class="links-list-item">
                                    <button type="submit" class="btn btn-light" aria-label="Send"><i class="bi bi-send-fill"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="app-chat-overlay" id="appChatOverlay"></div>
</div>

@section scripts{

    <script src="~/assets/js/app/chat.init.js"></script>

    <!-- App js -->
    <script src="~/assets/js/app.js"></script>
}
