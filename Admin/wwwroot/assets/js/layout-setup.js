const htmlElement=document.documentElement,settings=[{attribute:"data-layout",defaultValue:"vertical"},{attribute:"data-bs-theme",defaultValue:"light"},{attribute:"data-content-width",defaultValue:"default"},{attribute:"dir",defaultValue:"ltr"},{attribute:"data-sidebar-color",defaultValue:"plum"},{attribute:"data-sidebar",defaultValue:"default"},{attribute:"data-theme-colors",defaultValue:"default"}];function updateSidebarClick(){const t=document.getElementById("sidebar-simplebar");t&&t.querySelectorAll("ul.pe-main-menu > li > a").forEach((e=>{e.addEventListener("click",(a=>{a.preventDefault(),"icon"===document.documentElement.getAttribute("data-sidebar")&&setTimeout((()=>{t.querySelectorAll("ul.pe-main-menu > li > ul.show").forEach((t=>{t.classList.remove("show")})),e.setAttribute("aria-expanded","false"),e.classList.remove("collapsed"),e.nextElementSibling.classList.remove("show")}),300)}))}))}function removeHorizontalAttributes(){document.documentElement.removeAttribute("data-sidebar"),document.documentElement.setAttribute("data-topbar-theme","dark")}function setTheme(t){let e="";"auto"===t?(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",htmlElement.setAttribute("data-bs-theme",e)):e=t,"light"!==e?setAndSaveAttribute("data-sidebar-color","dark"):"horizontal"===document.documentElement.getAttribute("data-layout")?setAndSaveAttribute("data-sidebar-color","light"):setAndSaveAttribute("data-sidebar-color","plum")}function setAndSaveAttribute(t,e){htmlElement.setAttribute(t,e),localStorage.setItem(t,e)}function updateLayoutDir(t){const e=document.getElementById("bootstrap-style"),a=document.getElementById("app-style");null!==e&&null!==a&&("rtl"===t?(e.href=e.href.replace("bootstrap.min.css","bootstrap-rtl.min.css"),a.href=a.href.replace("app.min.css","app-rtl.min.css")):(e.href=e.href.replace("bootstrap-rtl.min.css","bootstrap.min.css"),a.href=a.href.replace("app-rtl.min.css","app.min.css")))}function updateSimpleBar(t){const e=document.getElementById("sidebar-simplebar");if("vertical"!==t&&"horizontal"!==t&&"default"!==t&&"semibox"!==t&&"medium"!==t&&"icon-hover"!==t||"icon"===document.documentElement.getAttribute("data-sidebar"))setTimeout((()=>{if(window.SimpleBar){const t=SimpleBar.instances.get(e);if(t){t.unMount();const a=e.querySelector("ul.pe-main-menu");a&&(e.innerHTML=a.parentElement.innerHTML,updateSidebarClick())}}}),0);else if(e){const t=e.querySelector("ul.pe-main-menu");t&&(e.innerHTML=t.parentElement.innerHTML),e.setAttribute("data-simplebar",""),window.SimpleBar&&new SimpleBar(e)}}function handleRadioChange(t){const{name:e,value:a}=t.target;switch(e){case"data-bs-theme":setAndSaveAttribute("data-bs-theme",a),setTheme(a);break;case"data-layout":setAndSaveAttribute("data-layout",a),"horizontal"===a?(removeHorizontalAttributes(),setAndSaveAttribute("data-topbar-theme","dark"),"dark"!==document.documentElement.getAttribute("data-bs-theme")?setAndSaveAttribute("data-sidebar-color","light"):setAndSaveAttribute("data-sidebar-color","dark")):(document.documentElement.removeAttribute("data-topbar-theme"),"dark"!==document.documentElement.getAttribute("data-bs-theme")?setAndSaveAttribute("data-sidebar-color","plum"):setAndSaveAttribute("data-sidebar-color","dark")),updateSimpleBar(a);break;case"data-content-width":setAndSaveAttribute("data-content-width",a);break;case"dir":setAndSaveAttribute("dir",a),updateLayoutDir(a);break;case"data-sidebar":"horizontal"!==document.documentElement.getAttribute("data-layout")&&setAndSaveAttribute("data-sidebar",a),updateSimpleBar(a);break;case"data-sidebar-color":setAndSaveAttribute("data-sidebar-color",a);break;case"data-theme-colors":setAndSaveAttribute("data-theme-colors",a)}}settings.forEach((t=>{const e=localStorage.getItem(t.attribute)||t.defaultValue;htmlElement.setAttribute(t.attribute,e),"dir"===t.attribute?updateLayoutDir(e):"data-bs-theme"===t.attribute&&setTheme(e);const a=`input[name="${t.attribute}"][value="${e}"]`,r=document.querySelector(a);r&&(r.checked=!0)})),updateSimpleBar(htmlElement.getAttribute("data-sidebar")??htmlElement.getAttribute("data-layout")),"horizontal"===document.documentElement.getAttribute("data-layout")&&removeHorizontalAttributes(),document.querySelectorAll('.layout-customizer input[type="radio"]').forEach((t=>{t.addEventListener("change",handleRadioChange)}));const toggleMode=document.getElementById("toggleMode"),lightModeButton=document.getElementById("lightModeBtn");toggleMode?.addEventListener("click",(()=>{const t="light"===htmlElement.getAttribute("data-bs-theme")?"dark":"light";setAndSaveAttribute("data-bs-theme",t),setTheme(t);const e=htmlElement.getAttribute("data-layout");setAndSaveAttribute("data-sidebar-color","dark"===t?"dark":"horizontal"===e?"light":"plum")}));const toggleButton=document.getElementById("toggleSidebar"),sideBarBackdrop=document.getElementById("sidebar-backdrop");function removeShowClassFromSidebar(){const t=document.getElementById("sidebar-simplebar");t?.querySelectorAll(".pe-slide-menu.collapse.show").forEach((t=>{t.classList.remove("show")}))}sideBarBackdrop?.addEventListener("click",(()=>{"horizontal"===htmlElement.getAttribute("data-layout")?document.getElementById("horizontal-aside").classList.toggle("show"):document.getElementById("sidebar").classList.remove("show")})),toggleButton?.addEventListener("click",(()=>{const t=htmlElement.getAttribute("data-sidebar");window.innerWidth<1024?(document.getElementById("sidebar").classList.add("show"),"horizontal"===document.documentElement.getAttribute("data-layout")&&removeHorizontalAttributes()):"icon"===t?htmlElement.setAttribute("data-sidebar","default"):(htmlElement.setAttribute("data-sidebar","icon"),removeShowClassFromSidebar()),updateSimpleBar(htmlElement.getAttribute("data-layout"))}));const horizontalToggle=document.getElementById("toggleHorizontal");horizontalToggle?.addEventListener("click",(()=>{window.innerWidth<1200&&document.getElementById("horizontal-aside").classList.toggle("show")}));let currentUrl=window.location.pathname;const menuLinks=document.querySelectorAll("#sidebar .pe-main-menu .pe-nav-link");"/"===currentUrl&&(currentUrl="/index.html");const currentLayout=htmlElement.getAttribute("data-layout"),currentSidebar=htmlElement.getAttribute("data-sidebar");menuLinks.forEach((t=>{const e=t.getAttribute("href");currentUrl.includes(e)&&(t.classList.add("active"),(t=>{let e=t.closest(".pe-has-sub");for(;e;){const t=e.querySelector(".pe-nav-link").getAttribute("aria-controls"),a=document.getElementById(t);a&&(e.children[0].classList.add("active"),"horizontal"!==currentLayout&&"icon"!==currentSidebar&&(a.classList.add("show"),e.children[0].setAttribute("aria-expanded","true"),e.querySelector(".pe-nav-arrow").classList.add("open"))),e=e.parentElement.closest(".pe-has-sub")}})(t))}));const horizontalMenuLinks=document.querySelectorAll("#horizontal-menu .pe-nav-link");horizontalMenuLinks.forEach((t=>{const e=t.getAttribute("href");if(currentUrl.includes(e)){t.classList.add("active");const e=t.closest(".pe-has-sub");if(e){const t=e.querySelector(".pe-nav-link").getAttribute("aria-controls");if(document.getElementById(t)){e.children[0].classList.add("active");const t=e.parentElement.closest(".pe-has-sub");if(t){const e=t.querySelector(".pe-nav-link").getAttribute("aria-controls");document.getElementById(e)&&t.children[0].classList.add("active")}}}}}));const resetBtn=document.getElementById("resetBtn");resetBtn?.addEventListener("click",(()=>{localStorage.clear(),window.location.reload()}));const sidebarDefaultArrow=document.getElementById("sidebarDefaultArrow");function handleResponsiveSidebar(){window.innerWidth<992&&document.documentElement.removeAttribute("data-sidebar")}sidebarDefaultArrow?.addEventListener("click",(()=>{setAndSaveAttribute("data-sidebar","default"),document.querySelector('input[name="data-sidebar"]').checked=!0})),handleResponsiveSidebar(),window.addEventListener("resize",handleResponsiveSidebar);